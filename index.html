<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>MBTA Bus Tracker</title>
    <meta
      name="viewport"
      content="initial-scale=1,maximum-scale=1,user-scalable=no"
    />
    <script src="https://api.mapbox.com/mapbox-gl-js/v1.11.0/mapbox-gl.js"></script>
    <script src="./scripts/mapController.js"></script>
    <script src="./scripts/mapAnimation.js"></script>
    <script src="./scripts/busDataClient.js"></script>
    <link
      href="https://api.mapbox.com/mapbox-gl-js/v1.11.0/mapbox-gl.css"
      rel="stylesheet"
    />
    <link href="style.css" rel="stylesheet" />
  </head>
  <body>
    <h1>Real-time MBTA Bus Location and Capacity Tracker</h1>
    <!-- ToDo: Implement route switching -->
    <!-- <form>
      <label>Line: </label>
      <select id="routesSelect" onchange="resetBuses()">
      </select>
    </form> -->

    <div class="contentGrid">
      <div class="legend">
        <h3>Seats Available</h3>
        <table>
          <tr>
            <td><img src="images/busIcon-ManySeats.png" /></td>
            <td>Many</td>
          </tr>
          <tr>
            <td><img src="images/busIcon-FewSeats.png" /></td>
            <td>Few</td>
          </tr>
          <tr>
            <td><img src="images/busIcon-NoSeats.png" /></td>
            <td>None</td>
          </tr>
          <tr>
            <td><img src="images/busIcon-NoData.png" /></td>
            <td><i>No Data</i></td>
          </tr>
        </table>
      </div>

      <div id="map"></div>
      <script>
        mapController.initializeMap("map");
        busTracker.run(mapController);
        populateRoutes();

        // function resetBuses(){
          
        // }

        // async function populateRoutes() {
        //   var busRoutes = await busDataClient.getRoutes();

        //   let routesElement = document.getElementById("routesSelect");

        //   var routeOptions = "";
        //   for (route of busRoutes) {
        //     routeOptions += `<option>${route.id}</option>`;
        //   }
        //   routesElement.innerHTML = routeOptions;
        // }
      </script>
    </div>
  </body>
</html>
